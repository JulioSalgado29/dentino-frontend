(this["webpackJsonpdentino-frontend"]=this["webpackJsonpdentino-frontend"]||[]).push([[0],{43:function(e,t,a){},69:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),s=a.n(r),o=a(34),i=a.n(o),c=(a(43),a(18)),l=a(2),u=a(9),d=a(10),j=a(5),g=a(13),b=a(12),h=a(15),m=a.n(h),f="http://dentino.sytes.net:8000/login",O="http://dentino.sytes.net:8000/usuario",p=new(function(){function e(){Object(u.a)(this,e)}return Object(d.a)(e,[{key:"registrar_admin",value:function(){return m.a.post("http://dentino.sytes.net:8000/admin/registration",{persona:{nombre:"Gregory",apellido:"Recalde",email:"juliosalgado2998@gmail.com",fechaNac:"1999-02-07",direccion:"Heredia586",telefono:"920691763",genero:"M"},usuario:{username:"username",password:"password",fechaCre:"2020-07-10"}},{auth:{username:"admin",password:"1234abcd"}})}},{key:"registrar_employee",value:function(){return m.a.post("http://dentino.sytes.net:8000/employee/registration",{persona:{nombre:"Gregory",apellido:"Recalde",email:"julio2@gmail.com",fechaNac:"1999-02-07",direccion:"Heredia586",telefono:"920691763",genero:"M"},usuario:{username:"username",password:"password",fechaCre:"2020-07-10"}},{auth:{username:"admin",password:"1234abcd"}})}},{key:"registrar_user",value:function(){return m.a.post(O+"/registration",{persona:{nombre:"Gregory",apellido:"Recalde",email:"julio2@gmail.com",fechaNac:"1999-02-07",direccion:"Heredia586",telefono:"920691763",genero:"M"},usuario:{username:"username",password:"password",fechaCre:"2020-07-10"}})}},{key:"login",value:function(e,t){var a={username:e,password:t};return m.a.post(f+"/verificando",a).then((function(e){localStorage.setItem("usuario",JSON.stringify(e.data))}))}},{key:"actualizar_estado",value:function(e,t){return m.a.post(f+"/actualizar-estado",{username:e,token:t}).then((function(e){localStorage.setItem("usuario",JSON.stringify(e.data))}))}},{key:"verificar_usuario",value:function(e){return m.a.put(O+"/verificar-estado",{username:e}).then((function(e){localStorage.setItem("usuario2",JSON.stringify(e.data))}))}},{key:"getCurrentUser",value:function(){return JSON.parse(localStorage.getItem("usuario"))}},{key:"getCurrentState",value:function(){return JSON.parse(localStorage.getItem("usuario2"))}},{key:"logout",value:function(){localStorage.removeItem("usuario")}}]),e}()),v=function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).logOut=n.logOut.bind(Object(j.a)(n)),n.state={currentUser:p.getCurrentUser()},n}return Object(d.a)(a,[{key:"logOut",value:function(){p.logout(),window.location.reload(!1)}},{key:"render",value:function(){var e=this.state.currentUser;return Object(n.jsxs)("div",{children:[Object(n.jsx)("button",{type:"button",className:"btn btn-danger",onClick:this.logOut,children:"Cerrar Sesion"}),Object(n.jsxs)("label",{children:["Index:estado=",e.estado]})]})}}]),a}(s.a.Component),x=a(35),y=a.n(x),w=a(21),C=a.n(w),k=a(36),N=a.n(k),S=a.p+"static/media/Dentino.e113557e.png",U=(a(69),a(17)),H=a.n(U),I=function(e){if(0===e.length)return Object(n.jsx)("div",{className:"alert-validate","data-validate":"Este campo es requerido",style:{width:"100%"}})},J=function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).ChangeTokenHandler=function(e){n.setState({token:e.target.value})},n.ChangeUsernameHandler=function(e){n.setState({username:e.target.value})},n.ChangePasswordHandler=function(e){n.setState({password:e.target.value})},n.state={currentUser:p.getCurrentUser(),username:"",password:"",loading:!1,message:"",estado:"",token:""},n.ChangeUsernameHandler=n.ChangeUsernameHandler.bind(Object(j.a)(n)),n.ChangePasswordHandler=n.ChangePasswordHandler.bind(Object(j.a)(n)),n.loginUsuario=n.loginUsuario.bind(Object(j.a)(n)),n.logOut=n.logOut.bind(Object(j.a)(n)),n}return Object(d.a)(a,[{key:"loginUsuario",value:function(e){var t=this;e.preventDefault(),this.setState({message:"",loading:!0}),this.form.validateAll(),0===this.checkBtn.context._errors.length?p.login(this.state.username,this.state.password).then((function(){window.location.reload(!0)}),(function(e){var a=e.response&&e.response.data||e.message||e.toString();t.setState({loading:!1,message:a}),H.a.fire({title:a,icon:"error"})})):this.setState({loading:!1})}},{key:"logOut",value:function(){p.logout()}},{key:"render",value:function(){var e=this;return Object(n.jsx)("div",{className:"limiter",children:Object(n.jsx)("div",{className:"container-login100",children:Object(n.jsxs)("div",{className:"wrap-login100",children:[Object(n.jsx)("div",{className:"wrap",children:Object(n.jsx)("div",{className:"container-prueba",children:Object(n.jsx)("img",{className:"box box logo",src:S,alt:"Logo"})})}),Object(n.jsxs)(y.a,{className:"login100-form validate-form",onSubmit:this.loginUsuario,ref:function(t){e.form=t},children:[Object(n.jsx)("span",{className:"login100-form-title",children:"Login"}),Object(n.jsxs)("div",{className:"wrap-input100",children:[Object(n.jsx)(C.a,{className:"input100-julio",type:"text",placeholder:"Username",value:this.state.username,onChange:this.ChangeUsernameHandler,validations:[I]}),Object(n.jsx)("span",{className:"symbol-input100",children:Object(n.jsx)("i",{className:"fa fa-user","aria-hidden":"true"})})]}),Object(n.jsxs)("div",{className:"wrap-input100",children:[Object(n.jsx)(C.a,{className:"input100-julio",type:"password",placeholder:"Password",value:this.state.password,onChange:this.ChangePasswordHandler,validations:[I]}),Object(n.jsx)("span",{className:"symbol-input100",children:Object(n.jsx)("i",{className:"fa fa-lock","aria-hidden":"true"})})]}),Object(n.jsxs)("div",{className:"container-login100-form-btn",children:[Object(n.jsxs)("button",{className:"login100-form-btn",onClick:this.loginUsuario,ref:function(t){e.checkBtn=t},disabled:this.state.loading,children:[" ",this.state.loading&&Object(n.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(n.jsx)("b",{children:"Ingresar"})]}),Object(n.jsx)(N.a,{style:{display:"none"},ref:function(t){e.checkBtn=t}}),Object(n.jsx)("button",{style:{display:"none"},className:"registrar100-form-btn",onClick:this.register,children:Object(n.jsx)("b",{children:"Reg\xedstrate"})})]})]})]})})})}}]),a}(s.a.Component),P=function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).logOut=n.logOut.bind(Object(j.a)(n)),n.state={currentUser:p.getCurrentUser()},n}return Object(d.a)(a,[{key:"logOut",value:function(){p.logout(),window.location.reload(!1)}},{key:"render",value:function(){var e=this.state.currentUser;return Object(n.jsxs)("div",{children:[1===e.estado&&Object(n.jsx)(v,{}),Object(n.jsx)("button",{type:"button",className:"btn btn-danger",onClick:this.logOut,children:"Cerrar Sesion"}),Object(n.jsxs)("label",{children:["Aduana: estado=",e.estado]})]})}}]),a}(s.a.Component),_=function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={currentUser:p.getCurrentUser(),currentState:p.getCurrentState(),loading:!1,message:""},n.componentDidMount=n.componentDidMount.bind(Object(j.a)(n)),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;null!==this.state.currentUser&&p.verificar_usuario(this.state.currentUser.username).then((function(){null!==e.state.currentState&&e.state.currentUser.estado!==e.state.currentState.estado&&(window.location.reload(!0),localStorage.removeItem("usuario"),localStorage.removeItem("usuario2"))}),(function(t){var a=t.response&&t.response.data||t.message||t.toString();e.setState({loading:!1,message:a}),H.a.fire({title:a,icon:"error"})}))}},{key:"render",value:function(){var e=this.state.currentUser;return Object(n.jsx)("div",{children:null===e&&Object(n.jsx)(J,{})||0===e.estado&&Object(n.jsx)(P,{})||1===e.estado&&Object(n.jsx)(v,{})})}}]),a}(s.a.Component);function D(){var e=Object(l.g)().pathname;return Object(r.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var M=function(){return Object(n.jsx)("div",{children:Object(n.jsx)(c.b,{basename:"https://juliosalgado29.github.io",children:Object(n.jsxs)(c.a,{children:[Object(n.jsx)(D,{}),Object(n.jsxs)(l.d,{children:[Object(n.jsx)(l.b,{exact:!0,path:"/",component:_}),Object(n.jsx)(l.a,{path:"/*",to:"/"})]})]})})})},B=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,73)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),s(e),o(e)}))};i.a.render(Object(n.jsx)(s.a.Fragment,{children:Object(n.jsx)(M,{})}),document.getElementById("root")),B()}},[[72,1,2]]]);
//# sourceMappingURL=main.88519841.chunk.js.map